{% extends 'main/base.html' %}

{% block title %}Home Page{% endblock  %}

{% block login/signup %}
    <a class="nav-link" href="/login">Log in / </a><a class="nav-link" href="/sign_up">Create account</a>
{% endblock  %}

{% block content %}
<div class="row">
    <div class="col">
          <div class="container mt-5">
            <div class="card profile-card">
              <div class="card-body">
                <h4 class="card-title">User Profile:</h4>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    <strong>Username:</strong> {{ user.username }}
                  </li>
                  <li class="list-group-item">
                    <strong>First Name:</strong> {{ user.first_name }}
                  </li>
                  <li class="list-group-item">
                    <strong>Last Name:</strong> {{ user.last_name }}
                  </li>
                  <li class="list-group-item">
                    <strong>Email:</strong> {{ user.email }}
                  </li> 
                  <li class="list-group-item">
                    <strong>Permissions:</strong>
                    <ul class="list-group list-group-flush">
                      {% for permission_name in permission_names %}
                      <li class="list-group-item">
                        {{ permission_name }}
                      </li>
                      {% endfor %} 
                    </ul>
                  </li> 
                </ul>
              </div>
            </div>
          </div>
    </div>
    
    <div class="col ">
      {% if user.is_staff %}
      <div class="card profile-card mt-5">
        <table class="table table-borderless">
          <thead class="border-bottom font-weight-bold">
            <tr>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Username</th>
              <th>Email</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
              {% for user in users %}
                <tr>
                  <td>{{ user.first_name}}</td>
                  <td>{{ user.last_name}}</td>
                  <td>{{ user.username}}</td>
                  <td>{{ user.email}}</td>
                  <td>
                    <a href="{% url 'user_update' user.id%}" class="btn text-secondary px-0">
                      <i class="bi bi-pencil-square"></i>
                    </a>
                  </td>
                </tr>
              {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>

    <div class="col">
      
    </div>
</div>
{% endblock %}